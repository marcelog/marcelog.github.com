<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<title>WebRTC with Asterisk and Amazon AWS</title>
<meta name="Author" content="Marcelo Gornstein"/>
<meta name="Keywords" content="This article explains how to setup asterisk to support webrtc without using webrtc2sip in an EC2 instance in AWS."/>
<meta name="description" content="This article explains how to setup asterisk to support webrtc without using webrtc2sip in an EC2 instance in AWS."/>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../images/favicon.ico" title="favicon" />
<link rel="stylesheet" href="../css/main.css" type="text/css" media="all" />
<link href='../dphighlighter/SyntaxHighlighter.css' rel='stylesheet' type='text/css' />
<!--[if IE]>
<link type="text/css" rel="stylesheet" media="screen" href="../css/fix-ie.css" />
<![endif]-->
<!--[if IE 6]>
<script type="text/javascript" src="../js/fix-png.js"></script>
<![endif]-->
<script type="text/javascript" src="http://apis.google.com/js/plusone.js"></script>
<script type="text/javascript" src="../js/lib/jquery-core.js"></script>
<script type="text/javascript" src="../js/main.js"></script>
</head>
<body>
<div id="wrapper">
  <div id="top">
    <!-- <a class="logo" href="index.html">Marcelo G</a>-->
    <ul id="nav">
      <li><a href="../index.html"><span>Home</span></a></li>
      <!-- <li><a href="../about.html"><span>About</span></a></li> -->
      <li class="active"><a href="articles.html"><span>Articles</span></a></li>
      <li><a href="../software.html"><span>Software</span></a></li>
      <li><a href="mailto:marcelog@gmail.com"><span>Contact</span></a></li>
    </ul>
  </div>
  <div class="header">
    <div class="line">
      <h1>Articles</h1>
      <div class="social-network">
       <a href="mailto:marcelog@gmail.com" class="icon-email" title="Email">Email</a>
       <g:plusone></g:plusone>
      </div>
     </div>
    <div class="breadcrumb">You are here &nbsp;&raquo;&nbsp; <a href="../index.html">Home Page</a>  &nbsp;&raquo;&nbsp;  <a href="articles.html">Articles</a>  &nbsp;&raquo;&nbsp;  WebRTC with Asterisk and Amazon AWS</div>
  </div>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- blog2 -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-6947936742546167"
     data-ad-slot="2769853059"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
  <div class="main-outer">
    <div class="main-inner">
      <div class="main">
        <div class="line">
          <div id="content">
            <div class="mod simple article-detail-style">
              <span class="top"><span class="tl"></span><span class="tr"></span></span>
              <div class="inner set-height-1">
                <h2>WebRTC with Asterisk and Amazon AWS</h2>
<a href="https://twitter.com/share" class="twitter-share-button" data-via="mgornstein" data-size="large" data-related="mgornstein">Tweet</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
                <div class="hr-1"><hr /></div>
  <H3><u>Introduction</u></H3>
<p>
In a <a href="installing_webrtc2sip_in_amazon_linux_in_aws.html">previous article</a> I described how to install <a href="http://webrtc2sip.org/"><b>Webrtc2sip</b></a> to include SIP signalling in your
<a href="http://www.webrtc.org/"><b>webrtc</b></a> applications. Unluckily there were some issues with webrtc2sip reported by <a href="https://twitter.com/RosSantoro1">Rosario Santoro (@RosSantoro1)</a> and further discussed in the
<a href="https://groups.google.com/forum/#!topic/doubango/oPpXlSRcz2E">Doubango Google Group</a>. Without having a solution yet, I decided to give Asterisk another shot. So in this article I'll describe how to use
Asterisk only (<b>without webrtc2sip</b>) to setup a webrtc scenario without any other third party applications. This article is loosely based on <a href="http://manuals.loway.ch/QM_AdvancedConfig-chunked/ch25.html">this one</a>.
</p>
<h3>Creating the EC2 instance</h3>
<p>
I selected <a href="https://aws.amazon.com/amazon-linux-ami/">Amazon Linux</a> for this, but the instructions should work on any
CentOS like operating system, and should be easily adaptable to other linux distros like Ubuntu.
</p>
<h3>Security Group</h3>
<p>
The security group should allow:
</p>
<ul>
  <li>Inbound connections to the TCP port 22 (to login via SSH, of course)</li>
  <li>Inbound and Outbound traffic to the UDP port 5060 (if you're going to use any peers with standard SIP over UDP).
  <li>Inbound connections to the TCP port 8089 (we're going to use this one to serve a TLS-enabled websocket with asterisk)</li>
  <li>Inbound and outbound to the UDP port range setup in your <a href="http://doxygen.asterisk.org/trunk/Config_rtp.html">rtp.conf</a> file</li>
  <li>Inbound connections to the TCP port 443 (if you're going to serve your webrtc application from this instance, we're going to do this by using the <a href="http://sipml5.org/">SIPML5 example</a>)</li>

<h3>Installing Base Packages</h3>
<p>
We first need to install some basic packages, to compile everything:
</p>
<pre name="code" class="php">
$ sudo yum install \
  gcc \
  gcc-c++ \
  make \
  autoconf \
  libtool \
  ncurses-devel \
  libuuid-devel \
  libxml2-devel \
  sqlite-devel \
  git \
  speex-devel \
  patch \
  screen \
  pkgconfig \
  wget \
  nginx \
  svn
</pre>
<p>
<a href="http://nginx.org/">Nginx</a> is installed so we can serve our own <a href="https://en.wikipedia.org/wiki/HTML5">HTML5</a> application in the
same server, but you can skip it if that will not be your case.</p>
<p>
<b>NOTE</b>: In CentOS you will need to install <a href="http://fedoraproject.org/wiki/EPEL">epel-release</a> to install nginx.
<pre name="code" class="php">
yum install epel-release
</pre>
<p>
In a similar way, <a href="http://www.gnu.org/software/screen/">GNU Screen</a> is installed becase I still like to use it, so feel free to also skip it
or replace it with another thing.
</p>
<h3>Install DaemonTools</h3>
<p>
It is highly recommended that you manage your asterisk installations with daemontools. You can find out how to install
them in this article titled: <a href="install_daemon_tools_centos_amazon_linux.html">Installing DaemonTools in Amazon Linux (or CentOS like OS)</a>.
</p>
<h3>Install libgsm 1.0.13</h3>
<pre name="code" class="php">
# cd /usr/src
# wget http://www.quut.com/gsm/gsm-1.0.13.tar.gz
# tar -xvzf gsm-1.0.13.tar.gz
</pre>
<p>
You have to download and apply <a href="https://gist.github.com/marcelog/9b5410706640279218ba">the following patch</a> so you can build libgsm as a shared library:
</p>
<pre name="code" class="php">
# wget https://gist.githubusercontent.com/marcelog/9b5410706640279218ba/raw/017e98f03187ebd12e059f0170f7ca764a81edfa/libgsm-shared.patch
# patch -p0 < libgsm-shared.patch
</pre>
<p>
Then you can proceed to build and install:
<pre name="code" class="php">
# cd gsm-1.0-pl13 && make && make install
# ln -s /usr/local/include /usr/local/inc
# mkdir -p /usr/local/man/man3
# make GSM_INSTALL_ROOT=/usr/local install
# cp lib/libgsm.so* /usr/local/lib
</pre>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- blog1 -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-6947936742546167"
     data-ad-slot="6142121850"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<h3>Install OpenSSL 1.0.2d</h3>
<pre name="code" class="php">
# cd /usr/src
# wget https://www.openssl.org/source/openssl-1.0.2d.tar.gz
# tar zxf openssl-1.0.2d.tar.gz
# cd openssl-1.0.2d
# ./config shared --prefix=/usr --openssldir=/usr/openssl-1.0.2d
# make
# make install
</pre>
<h3>Install libsrtp 1.5.2 as a shared library</h3>
<p>
<a href="https://github.com/cisco/libsrtp"><b>libsrtp</b></a> is used to provide audio by using
<a href="https://en.wikipedia.org/wiki/Secure_Real-time_Transport_Protocol"><b>SRTP</b></a> and its mandatory for
  webrtc communications. We need to install libsrtp <b>as a shared library</b>:
<pre name="code" class="php">
# cd /usr/src
# git clone https://github.com/cisco/libsrtp/
# cd libsrtp
# git checkout v1.5.2
# CFLAGS="-fPIC" ./configure --enable-pic && make shared_library && make install
</pre>

<h3>Install libjansson 2.7</h3>
<pre name="code" class="php">
# cd /usr/src
# wget http://www.digip.org/jansson/releases/jansson-2.7.tar.gz
# tar zxf jansson-2.7.tar.gz
# cd jansson-2.7
# ./configure --prefix=/usr/libjansson-2.7
# make
# make install
</pre>

<h3>Install PjProject 2.4</h3>
<p>
<a href="http://www.pjsip.org/">PJSip</a> is a new full SIP stack, used to replace chan_sip. And although we're still going to use chan_sip here, pjsip is needed
to correctly handle ICE and STUN.
</p>
<pre name="code" class="php">
# cd /usr/src
# git clone https://github.com/asterisk/pjproject pjproject
# cd pjproject/
# CFLAGS="-I/usr/srtp-2.4/include -I/usr/libsrtp-1.5.2/include" \
  LDFLAGS="-L/usr/srtp-2.4/lib -L/usr/libsrtp-1.5.2/lib" \
  ./configure \
    --prefix=/usr/pjproject-2.4 \
    --enable-shared \
    --disable-sound \
    --disable-resample \
    --disable-video \
    --disable-opencore-amr \
    --with-external-speex \
    --with-external-srtp \
   --with-external-gsm
# make dep
# make
# make install
</pre>

<h3>Install Asterisk 13.6.0</h3>
<p>
</p>
<pre name="code" class="php">
cd /usr/src
wget http://downloads.asterisk.org/pub/telephony/asterisk/releases/asterisk-13.6.0.tar.gz
tar zxf asterisk-13.6.0.tar.gz
cd asterisk-13.6.0
PKG_CONFIG_PATH=${PKG_CONFIG}:/usr/pjproject-2.4/lib/pkgconfig \
LD_LIBRARY_PATH=${LD_LIBRARY_PATH}:/usr/pjproject-2.4/lib:/usr/libsrtp-1.5.2/lib:/usr/openssl-1.0.2d/lib \
CFLAGS="-I/usr/srtp-2.4/include \
-I/usr/libsrtp-1.5.2/include \
-I/usr/pjproject-2.4/include" \
LDFLAGS="-L/usr/libsrtp-1.5.2/lib \
-L/usr/libsrtp-1.5.2/lib \
-L/usr/pjproject-2.4/lib" ./configure \
  --with-jansson=/usr/libjansson-2.7 \
  --prefix=/usr/asterisk-13.6.0 \
  --with-ssl=/usr/openssl-1.0.2d \
  --with-crypto=/usr/openssl-1.0.2d \
  --with-pjproject=/usr/pjproject-2.4 \
  --with-srtp=/usr/libsrtp-1.5.2
</pre>
<p>Configure Asterisk. <b>Make sure</b> that all the pj* resources are enabled, as well as the res_srtp and res_http_websocket ones.</p>
<pre name="code" class="php">
make menuconfig
</pre>
<pre name="code" class="php">
make
make install
make samples
ln -s /usr/asterisk-13.6.0 /usr/asterisk
</pre>

<h3>Add library paths to /etc/profile</h3>
<p>You might want to add this to your <b>/etc/profile</b> so the correct libraries will be used in your shell:</p>
<pre name="code" class="php">
export LD_LIBRARY_PATH=/usr/libjansson-2.7/lib:/usr/pjproject-2.4/lib:/usr/openssl-1.0.2d/lib:/usr/libsrtp-1.5.2/lib:/usr/local/lib
PATH=$PATH:/usr/asterisk/sbin
PATH=$PATH:/command
export PATH
</pre>
<h3>Setup /usr/asterisk/etc/asterisk/sip.conf</h3>
<p>
In the <b>general</b> section of your <a href="http://doxygen.asterisk.org/trunk/Config_sip.html">sip.conf</a> file set:
</p>
<pre name="code" class="php">
[general]
externaddr=a.b.c.d                   ; Your public ElasticIP
media_address=a.b.c.d                ; Your public ElasticIP
localnet=q.q.q.q/w.w.w.w             ; Your internal network and mask
context=public
realm=your-web-domain.net            ; Used for authentication
transport=udp,wss
</pre>

<h3>Sample SIP Peer</h3>
<pre name="code" class="php">
[100]
context=wrtc
host=dynamic
type=friend
encryption=yes
avpf=yes
icesupport=yes
directmedia=no
canreinvite=no
disallow=all
allow=ulaw
transport=ws,wss,udp
force_avp=yes
nat=force_rport,comedia
qualify=yes
secret=100
dtlsenable=yes
dtlsverify=no
dtlscertfile=/etc/ssl/certs/your-ssl-cert-with-intermediate-certificates.pem
dtlsprivatekey=/etc/ssl/certs/your-ssl-cert-key.key
dtlscafile=/etc/ssl/certs/your-ca-cert.pem
dtlssetup=actpass
srtpcapable=yes
videosupport=no
</pre>

<h3>Setup /usr/asterisk/etc/asterisk/http.conf</h3>
<p>In your <a href="http://doxygen.asterisk.org/trunk/http.conf.html">http.conf</a> file:</p>
<pre name="code" class="php">
servername=your-web-domain.net
enabled=yes
bindaddr=0.0.0.0
tlsenable=yes
tlsbindaddr=0.0.0.0:8089
tlscertfile=/etc/ssl/certs/your-ssl-cert-with-intermediate-certificates.pem
tlsprivatekey=/etc/ssl/certs/your-ssl-cert-key.key
</pre>

<h3>Setup /usr/asterisk/etc/asterisk/rtp.conf</h3>
<p>In your <a href="http://doxygen.asterisk.org/trunk/Config_rtp.html">rtp.conf</a> file:</p>
<pre name="code" class="php">
stunaddr=stun.l.google.com:19302
icesupport=true
</pre>
<h3>Create a user for Asterisk</h3>
<p>
<b>NOTE</b>: You can skip this step if you're not using daemontools.
</p>
<pre name="code" class="php">
useradd -s /bin/false -M -U asterisk
</pre>

<h3>Setup daemontools to start asterisk</h3>
<p>
<b>NOTE</b>: You can skip this step if you're not using daemontools.
</p>
<pre name="code" class="php">
mkdir /tmp/asterisk
cd /tmp/asterisk
mkdir env
mkdir log
echo "/usr/libjansson-2.7/lib:/usr/pjproject-2.4/lib:/usr/openssl-1.0.2d/lib:/usr/libsrtp-1.5.2/lib:/usr/local/lib" > env/LD_LIBRARY_PATH
</pre>
<p>Create the <b>./log/run</b> file with the following contents:</p>
<pre name="code" class="php">
#!/bin/bash
PATH=/bin:/sbin:/usr/bin:/usr/sbin:/command
exec 2>&1
mkdir -p /var/log/asterisk
chown -R asterisk:asterisk /var/log/asterisk
exec envuidgid asterisk multilog t s10485760 n5 '!tai64nlocal' /var/log/asterisk
</pre>
<pre name="code" class="php">
chmod 700 log/run
</pre>
<p>Create the <b>./run</b> file with the following contents:</p>
<pre name="code" class="php">
#!/bin/bash
mkdir -p /var/run/asterisk
chown -R asterisk /var/run/asterisk
exec 2>&1
exec setuidgid root envdir /etc/service/asterisk/env /usr/asterisk/sbin/asterisk -f
</pre>
<pre name="code" class="php">
chmod 700 run
</pre>
<p>Make daemontools start Asterisk automatically:</p>
<pre name="code" class="php">
cd ..
mv asterisk /etc/service
</pre>
<h3>Install SIPML5</h3>
<p><b>NOTE</b>: You can skip this step if you already have your own webrtc application or other means to test
the installation.</p>
<pre name="code" class="php">
cd /usr/share/nginx/html
svn checkout http://sipml5.googlecode.com/svn/trunk/ sipml5
</pre>
<h3>Setup the nginx host</h3>
<p><b>NOTE</b>: You can skip this step if you already have your own webrtc application or other means to test
the installation.</p>
<p>Generate a stronger DHE for key exchange</p>
<pre name="code" class="php">
cd /etc/ssl/certs
openssl dhparam -out dhparam.pem 4096
</pre>
<p>Setup the nginx host:</p>
<pre name="code" class="php">
    listen       443;
    server_name  your-web-domain.net;
    root         /usr/share/nginx/html/sipml5;
    ssl on;
    ssl_trusted_certificate /etc/ssl/certs/your-ca-cert.pem;
    ssl_certificate /etc/ssl/certs/your-ssl-cert-with-intermediate-certificates.pem;
    ssl_certificate_key /etc/ssl/certs/your-ssl-cert-key.key;
    ssl_protocols TLSv1 TLSv1.1 TLSv1.2;
ssl_ciphers "ECDHE-RSA-AES256-GCM-SHA384:ECDHE-RSA-AES128-GCM-SHA256:DHE-RSA-AES256-GCM-SHA384:DHE-RSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-SHA384:ECDHE-RSA-AES128-SHA256:ECDHE
-RSA-AES256-SHA:ECDHE-RSA-AES128-SHA:DHE-RSA-AES256-SHA256:DHE-RSA-AES128-SHA256:DHE-RSA-AES256-SHA:DHE-RSA-AES128-SHA:ECDHE-RSA-DES-CBC3-SHA:EDH-RSA-DES-CBC3-SHA:AES256-GCM-
SHA384:AES128-GCM-SHA256:AES256-SHA256:AES128-SHA256:AES256-SHA:AES128-SHA:DES-CBC3-SHA:HIGH:!aNULL:!eNULL:!EXPORT:!DES:!MD5:!PSK:!RC4";
    ssl_prefer_server_ciphers on;
    ssl_dhparam /etc/ssl/certs/dhparam.pem;
    ssl_session_cache shared:SSL:10m;
    ssl_stapling on;
    ssl_stapling_verify on;
</pre>
<p>After starting nginx, you should be able to point your browser to: <b>https://your-web-domain.net/call.htm?svn=230#</b> and see the SIPML5 demo.
<h3>SIPML5 configuration</h3>
<p>
In the <b>Expert</b> section:
<ul>
  <li>Check "Disable Video"</li>
  <li>Check "Enable RTCWeb Breaker"</li>
  <li>Set the "Websocket Server URL": wss://your-web-domain.net:8089/ws</li>
  <li>Set the "ICE servers":  [{ url: 'stun:stun.l.google.com:19302'}]
  <li>Check "Cache the media stream"
</ul>
</p>
<p>In the Login section:</p>
<ul>
  <li>Set "Display Name": 100</li>
  <li>Set "Private Identity": 100</li>
  <li>Set "Public Identity": sip:100@your-web-domain.net</li>
  <li>Set "Password": 100</li>
  <li>Set "Realm": your-web-domain.net</li>
</ul>
<h3>Using self signed certificates</h3>
<p>If you're using self signed certificates and notice an error in your javascript console like this one</p>
<p>
<b>...failed: WebSocket opening handshake was canceled</b>
</p>
<p>
You have to manually add the certificate to the browser's trusted vault. To do this manually point your browser
to https://your-web-domain.net:8089/ws and confirm the security exception. That should solve the issue and you should
be able to connect to the websocket port from SIPML5.
</p>
<h3>Conclusion</h3>
<p>
This will hopefully save you some hours of despair and debugging :) And also get rid of a
"moving part" in your webrtc ecosystem, so you can connect directly all your softphones, voip providers, and
webrtc applications to your asterisk installation.
</p>
<h3>Thanks To</h3>
<p>
<a href="https://twitter.com/RosSantoro1">Rosario Santoro</a> for his helpful tips and comments for the article.
</p>

              </div>
            </div>
            <div class="mod view-more">
              <div class="inner">
                <a href="articles.html">Read Other Articles</a>
              </div>
              <span class="bottom"><span class="bl"></span><span class="br"></span></span>
            </div>
          </div>
          <div id="sidebar" class="highlight articles-style original">
            <div class="mod simple">
              <span class="top"><span class="tl"></span><span class="tr"></span></span>
              <div class="inner set-height-1">
<p>
If you liked this or other articles (and feel generous), you can make a donation:
</p>
<p>
<a href='https://pledgie.com/campaigns/30947'><img alt='Click here to lend your support to: General and make a donation at pledgie.com !' src='https://pledgie.com/campaigns/30947.png?skin_name=chrome' border='0' ></a>
</p>
                <div class="google-ads">
                    <script type="text/javascript">
                    google_ad_client = "ca-pub-6947936742546167";
                    /* 9 */
                    google_ad_slot = "8617829895";
                    google_ad_width = 250;
                    google_ad_height = 250;
                    //-->
                    </script>
                    <script type="text/javascript"
                    src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
                    </script>
                </div>
                <h2>Related Articles</h2>
                <div class="hr-1"><hr /></div>
                <ul class="quick-list">
                  <li><a href="installing_webrtc2sip_in_amazon_linux_in_aws.html">Compiling and Installing WebRTC2SIP</a></li>
                  <li><a href="restrict_block_acl_ip_address_haproxy_tcp.html">Using ACL by IP Address in HaProxy TCP Mode</a></li>
                  <li><a href="starting_webrtc2sip_as_service.html">Starting WebRTC2SIP as a service without screen or console</a></li>
                  <li><a href="install_daemon_tools_centos_amazon_linux.html">Installing DaemonTools in Amazon Linux (or CentOS like OS)</a></li>
                  <li><a href="cross_freebsd_compiler_in_linux.html">Generating A Cross Compiler For Freebsd In Linux</a></li>
                  <li><a href="configure_nginx_php_5.3_5.2_fastcgi.html">How to setup nginx to work with FastCGI and PHP 5.2 and PHP 5.3</a></li>
                  <li><a href="configure_postfix_forward_all_email_smtp_gateway.html">Configuring postfix to forward all email to a smtp gateway</a></li>
                  <li><a href="configure_postfix_forward_email_regex_subject_transport_relay.html">Different relays in postfix based on regular expressions</a></li>
                </ul>
              </div>
              <span class="bottom"><span class="bl"></span><span class="br"></span></span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div id="footer">
    <!-- <p>&copy; 2010 Marcelo G. All Rights Reserved. Website design by <a href="http://Digitallabs.tv" target="_blank">Digitallabs.tv</a></p> -->
    <address>Email: <a href="mailto:marcelog@gmail.com">marcelog@gmail.com</a></address>
  </div>
</div>

<!-- config SyntaxHighlighter -->
<script src='../dphighlighter/shCore.js' type='text/javascript'></script>
<script src='../dphighlighter/shBrushPhp.js' type='text/javascript'></script>
<script src='../dphighlighter/shBrushXml.js' type='text/javascript'></script>
<script src='../dphighlighter/shBrushJScript.js' type='text/javascript'></script>
<script src='../dphighlighter/shBrushCss.js' type='text/javascript'></script>
<script language="javascript">
    dp.SyntaxHighlighter.ClipboardSwf = '../dphighlighter/clipboard.swf';
    dp.SyntaxHighlighter.HighlightAll('code');
</script>
  <script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-21070993-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
</body>
</html>
